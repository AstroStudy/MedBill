<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ganesh Billing Solutions</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        :root {
            --primary: #2c7a5a;
            --secondary: #3daa7d;
            --light: #f0f7f4;
            --dark: #1e3f34;
            --accent: #ff6b35;
            --border: #d1e5dc;
        }

        body {
            background: linear-gradient(135deg, #f0f7f4 0%, #e1f0e9 100%);
            min-height: 100vh;
            display: flex;
            color: var(--dark);
            font-size: 14px;
            line-height: 1.6;
        }

        /* Navigation sidebar */
        .sidebar {
            width: 200px;
            background: var(--dark);
            color: white;
            padding: 20px 0;
            box-shadow: 3px 0 10px rgba(0,0,0,0.1);
            display: flex;
            flex-direction: column;
        }

        .logo-container {
            padding: 0 20px 20px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            margin-bottom: 20px;
            text-align: center;
        }

        .logo {
            font-size: 16px;
            font-weight: 700;
            color: white;
            margin-bottom: 5px;
        }

        .logo-sub {
            font-size: 12px;
            opacity: 0.8;
        }

        .nav-btn {
            display: flex;
            align-items: center;
            padding: 12px 20px;
            margin: 5px 10px;
            background: transparent;
            color: rgba(255,255,255,0.8);
            border: none;
            border-radius: 5px;
            cursor: pointer;
            text-align: left;
            font-size: 14px;
            transition: all 0.3s ease;
        }

        .nav-btn i {
            margin-right: 12px;
            font-size: 16px;
            width: 24px;
            text-align: center;
        }

        .nav-btn:hover {
            background: rgba(255,255,255,0.1);
            color: white;
        }

        .nav-btn.active {
            background: var(--primary);
            color: white;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }

        /* Main content area */
        .main-content {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
        }

        .header-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--border);
        }

        .page-title {
            font-size: 24px;
            font-weight: 600;
            color: var(--dark);
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--secondary);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        /* Common styles for containers */
        .container {
            background: white;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            padding: 20px;
            margin-bottom: 20px;
        }

        .invoice-container {
            width: 8.27in;
            min-height: 5.83in;
            height: auto;
            margin: 0 auto;
            padding: 15px;
            border: 1px solid var(--border);
            box-sizing: border-box;
            page-break-after: avoid;
            page-break-inside: avoid;
            font-size: 12px;
        }

        /* Invoice Header */
        .invoice-header {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            margin-bottom: 10px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--primary);
            gap: 10px;
        }

        .vendor-info {
            width: 60%;
            font-size: 11px;
            line-height: 1.4;
            border: 1px solid var(--border);
            border-radius: 5px;
            padding: 8px;
        }

        .vendor-name {
            font-size: 18px;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 3px;
        }

        .invoice-meta {
            width: 35%;
            text-align: right;
            font-size: 11px;
            border: 1px solid var(--border);
            border-radius: 5px;
            padding: 8px;
        }

        .invoice-title {
            text-align: center;
            font-size: 8px;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 8px;
            padding: 4px;
            background: rgba(61, 170, 125, 0.1);
            border-radius: 5px;
        }

        /* Customer Details - New Compact Layout */
        .customer-details-section {
            display: flex;
            justify-content: space-between;
            gap: 10px;
            margin-bottom: 10px;
        }

        .customer-box {
            flex: 1;
            border: 1px solid var(--border);
            border-radius: 5px;
            padding: 8px;
            font-size: 11px;
        }

        .customer-box-header {
            font-weight: 700;
            margin-bottom: 5px;
            color: var(--primary);
            font-size: 11px;
        }

        .customer-inputs {
            display: flex;
            flex-direction: column;
            gap: 6px;
        }

        .customer-inputs input {
            width: 100%;
            padding: 6px 8px;
            border: 1px solid var(--border);
            border-radius: 4px;
            font-size: 11px;
        }

        .invoice-info-box {
            width: 35%;display: flex;
            border: 1px solid var(--border);align-items: center;  gap: 20px;
            border-radius: 5px;
            padding: 8px; flex-wrap: wrap;
            font-size: 11px;
        }

        /* Medicine Table */
        .medicine-table {
            width: 100%;
            border-collapse: collapse;
            margin: 10px 0;
            font-size: 10px;
            table-layout: fixed;
        }

        .medicine-table th {
            background: var(--primary);
            color: white;
            padding: 5px 3px;
            text-align: left;
            font-weight: 600;
            font-size: 10px;
        }

        .medicine-table td {
            padding: 5px 3px;
            border-bottom: 1px solid var(--border);
            font-size: 10px;
            height: 25px;
        }

        .medicine-table input {
            width: 100%;
            padding: 3px;
            border: none;
            background: transparent;
            font-size: 10px;
        }

        .medicine-table select {
            width: 100%;
            padding: 3px;
            border: 1px solid var(--border);
            border-radius: 3px;
            background: white;
            font-size: 10px;
        }

        .action-buttons {
            display: flex;
            justify-content: flex-end;
            margin-bottom: 8px;
        }

        .btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 11px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 4px;
            transition: all 0.3s ease;
        }

        .btn:hover {
            background: var(--secondary);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .btn-remove {
            background: #e74c3c;
            padding: 3px 8px;
            font-size: 10px;
        }

        .btn-remove:hover {
            background: #c0392b;
        }

        /* Totals and Payment */
        .totals-section {
            display: flex;
            justify-content: space-between;
            margin-top: 12px;
        }

        .payment-info {
            width: 60%;
        }

        .payment-mode {
            font-size: 11px;
            margin-bottom: 8px;
        }

        .payment-mode select {
            width: 100%;
            padding: 6px;
            border: 1px solid var(--border);
            border-radius: 4px;
            font-size: 10px;
        }

        .bank-details {
            margin-top: 8px;
            padding: 8px;
            background: rgba(240, 247, 244, 0.5);
            border-radius: 5px;
            font-size: 10px;
            display: flex;
            justify-content: space-between;
            line-height: 1.4;
        }

        .bank-info {
            flex: 1;
        }

        .qr-code {
            width: 70px;
            height: 70px;
            background: #f8f8f8;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 1px solid var(--border);
            border-radius: 5px;
            margin-left: 10px;
        }

        .qr-code img { /* Added style for the image */
            max-width: 100%;
            max-height: 100%;
            display: block;
        }

        .qr-code-placeholder {
            color: #999;
            text-align: center;
            padding: 5px;
            font-size: 8px;
        }

        .totals {
            width: 35%;
        }

        .totals table {
            width: 100%;
            font-size: 11px;
        }

        .totals td {
            padding: 4px 0;
        }

        .totals tr:last-child td {
            font-weight: 700;
            font-size: 12px;
            border-top: 2px solid var(--border);
            padding-top: 6px;
        }

        /* Footer */
        .invoice-footer {
            display: flex;
            justify-content: space-between;
            margin-top: 15px;
            padding-top: 10px;
            border-top: 1px solid var(--border);
            font-size: 10px;
            line-height: 1.4;
        }

        .declaration {
            width: 70%;
        }

        .declaration ul {
            margin-top: 3px;
            padding-left: 15px;
            font-size: 9px;
        }

        .signature {
            width: 25%;
            text-align: center;
        }

        .signature-line {
            border-top: 1px solid var(--dark);
            width: 100%;
            margin: 15px auto 3px;
        }

        /* Purchases Form */
        .purchase-form {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin-bottom: 15px;
        }

        .form-group {
            margin-bottom: 8px;
        }

        .form-group label {
            display: block;
            font-weight: 600;
            margin-bottom: 4px;
            color: var(--dark);
            font-size: 13px;
        }

        .form-group input, 
        .form-group select {
            width: 100%;
            padding: 8px;
            border: 1px solid var(--border);
            border-radius: 5px;
            font-size: 13px;
        }

        /* Report Section */
        .report-controls {
            display: flex;
            gap: 12px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }

        .date-filter {
            display: flex;
            gap: 8px;
            align-items: center;
            background: var(--light);
            padding: 8px 12px;
            border-radius: 5px;
            flex: 1;
        }

        .date-filter label {
            font-weight: 600;
            white-space: nowrap;
            font-size: 13px;
        }

        .date-filter input {
            padding: 7px 10px;
            border: 1px solid var(--border);
            border-radius: 4px;
            font-size: 13px;
        }

        .report-actions {
            display: flex;
            gap: 8px;
        }

        .btn-print {
            background: #3498db;
        }

        .btn-csv {
            background: #27ae60;
        }

        .report-type-selector {
            margin-bottom: 12px;
            padding: 8px 0;
        }

        .report-type-selector label {
            margin-right: 15px;
            font-weight: 600;
            font-size: 13px;
        }

        /* Column widths for perfect fit */
        .col-no { width: 4%; }
        .col-name { width: 22%; }
        .col-mfr { width: 8%; }
        .col-hsn { width: 8%; }
        .col-batch { width: 9%; }
        .col-expiry { width: 8%; }
        .col-qty { width: 5%; }
        .col-rate { width: 8%; }
        .col-disc { width: 7%; }
        .col-gst { width: 8%; }
        .col-amount { width: 10%; }
        .col-action { width: 3%; }

        /* Print specific styles */
        @media print {
            body {
                padding: 0;
                margin: 0;
                background: white;
                font-size: 10px;
            }
            
            @page {
                margin: 0;
            }

            .sidebar, .header-bar, .btn-add, .btn-remove, .no-print {
                display: none !important;
            }
            
            .main-content {
                padding: 0;
            }
            
            .invoice-container {
                border: none;
                box-shadow: none;
                width: 100%;
                min-height: auto;
                padding: 0;
                transform: none;
                transform-origin: top left;
                font-size: 9px;
                page-break-inside: avoid;
            }
            
            .btn {
                display: none;
            }
            
            .medicine-table {
                font-size: 8px;
            }
            
            .medicine-table th, .medicine-table td {
                padding: 3px 2px;
            }
            
            .medicine-table input, .medicine-table select {
                font-size: 8px;
                padding: 1px;
            }
            
            .invoice-title {
                font-size: 12px;
            }
            
            .vendor-info, .invoice-meta {
                font-size: 9px;
            }
            
            .customer-box-header {
                font-size: 9px;
            }
            
            .bank-details {
                font-size: 8px;
            }
            
            .totals table {
                font-size: 9px;
            }
            
            .declaration {
                font-size: 8px;
            }
            
            .declaration ul {
                font-size: 7px;
            }
        }

        /* Responsive adjustments */
        @media (max-width: 1200px) {
            .sidebar {
                width: 180px;
            }
            
            .invoice-container {
                width: 100%;
                padding: 15px;
            }
        }

        @media (max-width: 992px) {
            body {
                flex-direction: column;
            }
            
            .sidebar {
                width: 100%;
                padding: 10px;
                flex-direction: row;
                flex-wrap: wrap;
                justify-content: center;
            }
            
            .logo-container {
                width: 100%;
                text-align: center;
                padding: 10px;
            }
            
            .nav-btn {
                margin: 5px;
                padding: 8px 15px;
                font-size: 13px;
            }
            
            .nav-btn i {
                margin-right: 5px;
            }
        }

        @media (max-width: 768px) {
            .customer-details-section {
                flex-direction: column;
            }
            
            .customer-box, .invoice-info-box {
                width: 100%;
            }
            
            .purchase-form {
                grid-template-columns: 1fr;
            }
            
            .report-controls {
                flex-direction: column;
            }
            
            .medicine-table {
                font-size: 9px;
            }
            
            .col-name { width: 18%; }
            .col-mfr { width: 7%; }
            
            .bank-details {
                flex-direction: row;
            }
            
            .qr-code {
                margin: 8px 0 0 0; margin-left: 10px !important;margin-top: 0 !important;
                align-self: flex-start;
            }
        }
        
        /* New report styles */
        .report-total {
            margin-top: 15px;
            padding: 10px;
            background: rgba(61, 170, 125, 0.1);
            border-radius: 5px;
            font-weight: bold;
            text-align: right;
            font-size: 16px;
        }
        
        .date-filter.stock {
            display: none;
        }
        
        .report-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .report-title {
            font-size: 18px;
            color: var(--primary);
            font-weight: 600;
        }

        /* Data Management Styles */
        .data-management-form {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 20px;
        }

        .data-management-section {
            background: white;
            padding: 15px;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .data-management-section h3 {
            margin-bottom: 15px;
            color: var(--primary);
            border-bottom: 1px solid var(--border);
            padding-bottom: 8px;
        }

        .danger-zone {
            border: 2px solid #e74c3c;
            background-color: rgba(231, 76, 60, 0.05);
        }

        .danger-zone h3 {
            color: #e74c3c;
        }

        .btn-danger {
            background: #e74c3c;
        }

        .btn-danger:hover {
            background: #c0392b;
        }

        .form-row {
            margin-bottom: 12px;
        }

        .form-row label {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
            font-size: 13px;
        }

        .form-row input, 
        .form-row select {
            width: 100%;
            padding: 8px;
            border: 1px solid var(--border);
            border-radius: 4px;
            font-size: 13px;
        }
    </style>
</head>
<body>
    <div class="sidebar">
        <div class="logo-container">
            <div class="logo">GANESH </div>
            <div class="logo-sub">Billing Solutions</div>
        </div>
        <button class="nav-btn active" onclick="showPage('invoice')">
            <i class="fas fa-file-invoice"></i> Invoice
        </button>
        <button class="nav-btn" onclick="showPage('purchases')">
            <i class="fas fa-cart-plus"></i> Purchases
        </button>
        <button class="nav-btn" onclick="showPage('report')">
            <i class="fas fa-chart-bar"></i> Reports
        </button>
        <button class="nav-btn" onclick="showPage('data-management')">
            <i class="fas fa-database"></i> Data Management
        </button>
    </div>
    
    <div class="main-content">
        <div class="header-bar">
            <div class="page-title" id="current-page-title">Tax Invoice</div>
        </div>
            
        <div id="invoice-page" class="page-content">
            <div class="container invoice-container">
                <div class="invoice-title"> ||<<<<<    MEDICAL BILL        >>>>>||<<<<< TAX INVOICE >>>>>||  GANESH BILLING SOLUTIONS : ravikishoreca@gmail.com ||</div>
                
                <div class="invoice-header">    
                    <div class="vendor-info" style="width: 40%">
                        <div class="vendor-name">City Medical Store</div>
                        <div>123 Health Street, Medical Town - 400001</div>
                        <div>GSTIN: 22ABCDE1234F1Z5 | DL No: DL-1234/R/2020</div>
                        <div>Phone: 9876543210 | Email: info@citymedicals.com</div>
                    </div>
            <div class="customer-box">
                        <div class="customer-box-header">CUSTOMER DETAILS</div>
                        <div class="customer-inputs">
                            <input type="text" id="customer-name" placeholder="Customer Name">
                            <input type="text" id="customer-address" placeholder="Address (optional)">
                        </div>
                    </div>
            <div class="invoice-info-box" style="width: 100%">
                        <div class="customer-box-header">BILLING INFORMATION</div>
                        <div><strong>Bill No:</strong> MED2023-001</div>
                        <div><strong>Date:</strong> <span id="invoice-date2">01/04/2023</span></div>
                        <div><strong>Time:</strong> 10:45 AM</div>
                    </div>                   
                </div>

                <div class="action-buttons" style="hieght: 60%">
                    <button class="btn btn-add" onclick="addNewRow()">
                        <i class="fas fa-plus"></i> Add Medicine
                    </button>
                </div>
                <table class="medicine-table">
                    <thead>
                        <tr>
                            <th class="col-no">No</th>
                            <th class="col-name">Medicine Name</th>
                            <th class="col-mfr">MFR</th>
                            <th class="col-hsn">HSN</th>
                            <th class="col-batch">Batch</th>
                            <th class="col-expiry">Expiry</th>
                            <th class="col-qty">Qty</th>
                            <th class="col-rate">Rate</th>
                            <th class="col-disc">Disc.</th>
                            <th class="col-gst">GST</th>
                            <th class="col-amount">Amount</th>
                            <th class="col-action no-print"></th>
                        </tr>
                    </thead>
                    <tbody id="medicine-table-body">
                        <tr class="medicine-row">
                            <td class="col-no">1</td>
                            <td class="col-name"><input type="text" class="medicine-name" placeholder="Medicine name"></td>
                            <td class="col-mfr"><input type="text" class="mfr-code" placeholder="MFR" maxlength="4"></td>
                            <td class="col-hsn"><input type="text" class="hsn-code" placeholder="HSN" maxlength="8"></td>
                            <td class="col-batch"><input type="text" class="batch-no" placeholder="Batch"></td>
                            <td class="col-expiry"><input type="text" class="expiry" placeholder="MM/YY"></td>
                            <td class="col-qty"><input type="text" class="quantity" placeholder="Qty"></td>
                            <td class="col-rate"><input type="text" class="rate" placeholder="Rate"></td>
                            <td class="col-disc"><input type="text" class="discount" value="0"></td>
                            <td class="col-gst">
                                <select class="gst-rate">
                                    <option>5%</option>
                                    <option>12%</option>
                                    <option selected>18%</option>
                                </select>
                            </td>
                            <td class="col-amount amount">0.00</td>
                            <td class="col-action no-print"><button class="btn btn-remove" onclick="removeRow(this)"><i class="fas fa-times"></i></button></td>
                        </tr>
                        <tr class="medicine-row">
                            <td class="col-no">2</td>
                            <td class="col-name"><input type="text" class="medicine-name" placeholder="Medicine name"></td>
                            <td class="col-mfr"><input type="text" class="mfr-code" placeholder="MFR" maxlength="4"></td>
                            <td class="col-hsn"><input type="text" class="hsn-code" placeholder="HSN" maxlength="8"></td>
                            <td class="col-batch"><input type="text" class="batch-no" placeholder="Batch"></td>
                            <td class="col-expiry"><input type="text" class="expiry" placeholder="MM/YY"></td>
                            <td class="col-qty"><input type="text" class="quantity" placeholder="Qty"></td>
                            <td class="col-rate"><input type="text" class="rate" placeholder="Rate"></td>
                            <td class="col-disc"><input type="text" class="discount" value="0"></td>
                            <td class="col-gst">
                                <select class="gst-rate">
                                    <option>5%</option>
                                    <option selected>12%</option>
                                    <option>18%</option>
                                </select>
                            </td>
                            <td class="col-amount amount">0.00</td>
                            <td class="col-action no-print"><button class="btn btn-remove" onclick="removeRow(this)"><i class="fas fa-times"></i></button></td>
                        </tr>
                    </tbody>
                </table>

                <div class="totals-section">
                    <div class="payment-info">
                        <div class="payment-mode">
                            <strong>Payment Mode:</strong> 
                            <select id="payment-mode">
                                <option>Cash</option>
                                <option>Card</option>
                                <option>UPI</option>
                                <option>Wallet</option>
                                <option>Credit</option>
                            </select>
                        </div>
                        <div class="bank-details">
                            <div class="bank-info">
                                <strong>Bank Details:</strong>
                                <div>Bank: State Bank of India</div>
                                <div>A/C Name: City Medical Store</div>
                                <div>A/C No.: 1234567890</div>
                                <div>IFSC: SBIN0000123</div>
                                <div>UPI: citymedicals@upi</div>
                            </div>
                            <div class="qr-code">
                              <img src="QR.jpg" alt="QR Code for Payment">
                            </div>
                        </div>
                    </div>
                    <div class="totals">
                        <table>
                            <tr>
                                <td><strong>Subtotal:</strong></td>
                                <td id="subtotal">0.00</td>
                            </tr>
                            <tr>
                                <td><strong>Discount:</strong></td>
                                <td id="total-discount">0.00</td>
                            </tr>
                            <tr>
                                <td><strong>CGST:</strong></td>
                                <td id="cgst">0.00</td>
                            </tr>
                            <tr>
                                <td><strong>SGST:</strong></td>
                                <td id="sgst">0.00</td>
                            </tr>
                            <tr>
                                <td><strong>Total:</strong></td>
                                <td id="total">₹0.00</td>
                            </tr>
                        </table>
                    </div>
                </div>

                <div class="invoice-footer">
                    <div class="declaration">
                        <strong>Declaration:</strong> 
                        <ul>
                            <li> All medicines sold as per doctor's prescription only and once sold will not be taken back or exchanged</li>
                            <li>Please check expiry date before using medicines and keep medicines out of reach of children</li>
                        </ul>
                    </div>
                    <div class="signature">
                        <div>For <strong>City Medical Store</strong></div>
                        <div class="signature-line"></div>
                        <div>Authorized Signatory</div>
                    </div>
                </div>
            </div>
            
            <div class="action-buttons" style="margin-top: 15px; justify-content: center; gap: 20px;">
                <button class="btn" onclick="window.print()" style="background: #27ae60; ">
                    <i class="fas fa-print"></i> Print Invoice
                </button>
                <button class="btn" style="background: #27ae60;">
                    <i class="fas fa-save"></i> Save Invoice
                </button>
        <button class="btn" onclick="window.print()" style="background: #27ae60;">
                    <i class="fas fa-print"></i> Print & Save
                </button>
            </div>
        </div>
        
        <div id="purchases-page" class="page-content" style="display: none;">
            <div class="container">
                <h2 style="margin-bottom: 20px; color: var(--primary);">
                    <i class="fas fa-cart-plus"></i> Purchase Entry
                </h2>
                
                <div class="purchase-form">
                    <div class="form-group">
                        <label>Vendor Name</label>
                        <input type="text" id="vendor-name" placeholder="Enter vendor name">
                    </div>
                    <div class="form-group">
                        <label>Vendor GSTIN</label>
                        <input type="text" id="vendor-gstin" placeholder="Enter GSTIN">
                    </div>
                    <div class="form-group">
                        <label>Vendor Address</label>
                        <input type="text" id="vendor-address" placeholder="Enter address">
                    </div>
                    <div class="form-group">
                        <label>Invoice Date</label>
                        <input type="date" id="purchase-date">
                    </div>
                    <div class="form-group">
                        <label>Invoice Number</label>
                        <input type="text" id="purchase-invoice" placeholder="Enter invoice number">
                    </div>
                    <div class="form-group">
                        <label>Payment Terms</label>
                        <select id="payment-terms">
                            <option>Immediate Payment</option>
                            <option>7 Days</option>
                            <option>15 Days</option>
                            <option>30 Days</option>
                        </select>
                    </div>
                </div>
                
                <div class="section-title">MEDICINE DETAILS</div>
                <div class="action-buttons">
                    <button class="btn btn-add" onclick="addPurchaseRow()">
                        <i class="fas fa-plus"></i> Add Medicine
                    </button>
                </div>
                
                <table class="medicine-table">
                    <thead>
                        <tr>
                            <th class="col-no">No</th>
                            <th class="col-name">Medicine Name</th>
                            <th class="col-mfr">MFR</th>
                            <th class="col-hsn">HSN</th>
                            <th class="col-batch">Batch</th>
                            <th class="col-expiry">Expiry</th>
                            <th class="col-qty">Qty</th>
                            <th class="col-rate">Rate</th>
                            <th class="col-gst">GST</th>
                            <th class="col-amount">Amount</th>
                            <th class="col-action no-print"></th>
                        </tr>
                    </thead>
                    <tbody id="purchase-table-body">
                        <tr class="medicine-row">
                            <td class="col-no">1</td>
                            <td class="col-name"><input type="text" class="medicine-name" placeholder="Medicine name"></td>
                            <td class="col-mfr"><input type="text" class="mfr-code" placeholder="MFR"></td>
                            <td class="col-hsn"><input type="text" class="hsn-code" placeholder="HSN"></td>
                            <td class="col-batch"><input type="text" class="batch-no" placeholder="Batch"></td>
                            <td class="col-expiry"><input type="text" class="expiry" placeholder="MM/YY"></td>
                            <td class="col-qty"><input type="text" class="quantity" placeholder="Qty"></td>
                            <td class="col-rate"><input type="text" class="rate" placeholder="Rate"></td>
                            <td class="col-gst">
                                <select class="gst-rate">
                                    <option>5%</option>
                                    <option>12%</option>
                                    <option selected>18%</option>
                                </select>
                            </td>
                            <td class="col-amount amount">0.00</td>
                            <td class="col-action no-print"><button class="btn btn-remove" onclick="removePurchaseRow(this)"><i class="fas fa-times"></i></button></td>
                        </tr>
                    </tbody>
                </table>
                
                <div class="action-buttons" style="margin-top: 15px; gap: 20px;" >
                    <button class="btn" style="background: #9b59b6;">
                        <i class="fas fa-file-invoice"></i> View Invoice
                    </button>
                    <button class="btn" style="background: #27ae60;">
                        <i class="fas fa-save"></i> Save Purchase
                    </button>
                    <button class="btn" style="background: #e67e22;">
                        <i class="fas fa-print"></i> Print
                    </button>
                    <button class="btn" style="background: #22a1e6;">
                        <i class="fas fa-print"></i> Print & Save
                    </button>
                </div>
            </div>
        </div>
        
        <div id="report-page" class="page-content" style="display: none;">
            <div class="container">
                <div class="report-header">
                    <div class="report-title" id="current-report-title">Reports</div>
                </div>
                
                <div class="report-type-selector">
                    <label>
                        <input type="radio" name="report-type" value="sales" checked onchange="showReportType()"> Sales
                    </label>
                    <label>
                        <input type="radio" name="report-type" value="purchases" onchange="showReportType()"> Purchases
                    </label>
                    <label>
                        <input type="radio" name="report-type" value="stock" onchange="showReportType()"> Stock Report
                    </label>
                </div>
                
                <div class="report-controls">
                    <div class="date-filter" id="date-range-filter">
                        <label>From Date:</label>
                        <input type="date" id="report-from">
                        <label>To Date:</label>
                        <input type="date" id="report-to">
                    </div>
                    
                    <div class="date-filter stock" id="stock-date-filter">
                        <label>As of Date:</label>
                        <input type="date" id="report-stock-date">
                    </div>
                    
                    <div class="report-actions">
                        <button class="btn btn-print" onclick="printReport()">
                            <i class="fas fa-print"></i> Print Report
                        </button>
                        <button class="btn btn-csv" onclick="exportToCSV()">
                            <i class="fas fa-file-csv"></i> Export to CSV
                        </button>
                    </div>
                </div>
                
                <div class="report-total" id="report-total-value">
                    Total Value: ₹0.00
                </div>
                
                <table class="medicine-table">
                    <thead>
                        <tr id="report-head">
                            </tr>
                    </thead>
                    <tbody id="report-body">
                        </tbody>
                </table>
            </div>
        </div>

        <div id="data-management-page" class="page-content" style="display: none;">
            <div class="container">
                <h2 style="margin-bottom: 20px; color: var(--primary);">
                    <i class="fas fa-database"></i> Data Management
                </h2>
                
                <div class="data-management-form">
                    <div class="data-management-section">
                        <h3><i class="fas fa-trash-alt"></i> Delete Transactions</h3>
                        
                        <div class="form-row">
                            <label>Delete by Invoice Number</label>
                            <div style="display: flex; gap: 8px;">
                                <select id="delete-transaction-type" style="flex: 1;">
                                    <option value="sale">Sale Invoice</option>
                                    <option value="purchase">Purchase Invoice</option>
                                </select>
                                <input type="text" id="delete-invoice-number" placeholder="Enter invoice number" style="flex: 2;">
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <button class="btn btn-danger" onclick="deleteByInvoice()" style="width: 100%;">
                                <i class="fas fa-trash"></i> Delete Invoice
                            </button>
                        </div>
                        
                        <div class="form-row">
                            <label>Delete Transactions Between Dates</label>
                            <div style="display: flex; gap: 8px;">
                                <select id="delete-date-type" style="flex: 1;">
                                    <option value="sale">Sales</option>
                                    <option value="purchase">Purchases</option>
                                    <option value="both">Both</option>
                                </select>
                                <input type="date" id="delete-from-date" style="flex: 1;">
                                <input type="date" id="delete-to-date" style="flex: 1;">
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <button class="btn btn-danger" onclick="deleteByDateRange()" style="width: 100%;">
                                <i class="fas fa-trash"></i> Delete Transactions
                            </button>
                        </div>
                    </div>
                    
                    <div class="data-management-section danger-zone">
                        <h3><i class="fas fa-exclamation-triangle"></i> Danger Zone</h3>
                        
                        <div class="form-row">
                            <label>Delete All Transaction Data</label>
                            <p style="font-size: 12px; color: #666; margin-bottom: 10px;">
                                This will permanently delete ALL sales and purchase transactions. This action cannot be undone.
                            </p>
                            <input type="password" id="admin-password" placeholder="Enter admin password">
                        </div>
                        
                        <div class="form-row">
                            <button class="btn btn-danger" onclick="confirmDeleteAll()" style="width: 100%;">
                                <i class="fas fa-skull-crossbones"></i> Delete All Data
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="data-management-section" style="margin-top: 20px;">
                    <h3><i class="fas fa-file-export"></i> Backup & Restore</h3>
                    
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                        <div>
                            <div class="form-row">
                                <label>Create Backup</label>
                                <p style="font-size: 12px; color: #666; margin-bottom: 10px;">
                                    Download a backup of all your data.
                                </p>
                                <button class="btn" onclick="createBackup()" style="width: 100%;">
                                    <i class="fas fa-file-download"></i> Download Backup
                                </button>
                            </div>
                        </div>
                        
                        <div>
                            <div class="form-row">
                                <label>Restore from Backup (Upload a previously saved backup file.)</label>

                                <input type="file" id="backup-file" style="margin-bottom: 8px; width: 50%;">
                                <button class="btn" onclick="restoreBackup()" style="width: 30%;">
                                    <i class="fas fa-file-upload"></i> Restore Backup
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Initialize with 2 rows
        document.addEventListener('DOMContentLoaded', function() {
            // Set current date for invoice
            const today = new Date();
            const formattedDate = today.toLocaleDateString('en-GB');
            document.getElementById('invoice-date2').textContent = formattedDate;
            
            // Set default dates for purchases and reports
            document.getElementById('purchase-date').valueAsDate = today;
            document.getElementById('report-from').valueAsDate = new Date(today.getFullYear(), today.getMonth(), 1);
            document.getElementById('report-to').valueAsDate = today;
            document.getElementById('report-stock-date').valueAsDate = today;
            
            // Set default dates for delete operations
            document.getElementById('delete-from-date').valueAsDate = new Date(today.getFullYear(), today.getMonth(), 1);
            document.getElementById('delete-to-date').valueAsDate = today;
            
            // Add event listeners to initial rows
            document.querySelectorAll('.quantity, .rate, .discount').forEach(input => {
                input.addEventListener('input', calculateRow);
            });

            document.querySelectorAll('.gst-rate').forEach(select => {
                select.addEventListener('change', calculateRow);
            });

            document.querySelectorAll('.medicine-name').forEach(input => {
                input.addEventListener('blur', function() {
                    if(this.value && this.closest('tr') === document.querySelector('#medicine-table-body tr:last-child')) {
                        addNewRow();
                    }
                });
            });
            
            // Add event listeners to report date filters
            document.getElementById('report-from').addEventListener('change', generateReport);
            document.getElementById('report-to').addEventListener('change', generateReport);
            document.getElementById('report-stock-date').addEventListener('change', generateReport);
        });

        // Show/hide pages based on navigation
        function showPage(page) {
            // Hide all pages
            document.querySelectorAll('.page-content').forEach(el => {
                el.style.display = 'none';
            });
            
            // Show selected page
            document.getElementById(page + '-page').style.display = 'block';
            
            // Update active button
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // Update page title
            const titles = {
                'invoice': 'Tax Invoice',
                'purchases': 'Purchase Entry',
                'report': 'Reports',
                'data-management': 'Data Management'
            };
            document.getElementById('current-page-title').textContent = titles[page];
            
            // If showing report page, set initial state
            if (page === 'report') {
                showReportType();
            }
        }
        
        function showReportType() {
            const reportType = document.querySelector('input[name="report-type"]:checked').value;
            const dateRangeFilter = document.getElementById('date-range-filter');
            const stockDateFilter = document.getElementById('stock-date-filter');
            
            // Update report title
            const titles = {
                'sales': 'Sales Report',
                'purchases': 'Purchases Report',
                'stock': 'Stock Report'
            };
            document.getElementById('current-report-title').textContent = titles[reportType];
            
            // Show/hide date filters
            if (reportType === 'stock') {
                dateRangeFilter.style.display = 'none';
                stockDateFilter.style.display = 'flex';
            } else {
                dateRangeFilter.style.display = 'flex';
                stockDateFilter.style.display = 'none';
            }
            
            // Generate the report
            generateReport();
        }

        function calculateRow(e) {
            const row = e.target.closest('tr');
            const quantity = parseFloat(row.querySelector('.quantity').value) || 0;
            const rate = parseFloat(row.querySelector('.rate').value) || 0;
            const discount = parseFloat(row.querySelector('.discount').value) || 0;
            const gstRate = parseFloat(row.querySelector('.gst-rate').value) / 100 || 0;
            
            const amount = (quantity * rate) - discount;
            row.querySelector('.amount').textContent = amount.toFixed(2);
            calculateTotals();
        }

        function calculateTotals() {
            let subtotal = 0;
            let totalDiscount = 0;
            let totalGst = 0;
            
            document.querySelectorAll('.medicine-row').forEach(row => {
                subtotal += (parseFloat(row.querySelector('.quantity').value) || 0) * (parseFloat(row.querySelector('.rate').value) || 0);
                totalDiscount += parseFloat(row.querySelector('.discount').value) || 0;
                
                const rowAmount = (parseFloat(row.querySelector('.quantity').value) || 0) * (parseFloat(row.querySelector('.rate').value) || 0) - 
                                 (parseFloat(row.querySelector('.discount').value) || 0);
                const gstRate = parseFloat(row.querySelector('.gst-rate').value) / 200 || 0; // Divided by 200 for CGST+SGST
                totalGst += rowAmount * gstRate * 2;
            });
            
            const taxable = subtotal - totalDiscount;
            const total = taxable + totalGst;
            
            document.getElementById('subtotal').textContent = '₹' + subtotal.toFixed(2);
            document.getElementById('total-discount').textContent = '₹' + totalDiscount.toFixed(2);
            document.getElementById('cgst').textContent = '₹' + (totalGst/2).toFixed(2);
            document.getElementById('sgst').textContent = '₹' + (totalGst/2).toFixed(2);
            document.getElementById('total').textContent = '₹' + total.toFixed(2);
        }

        function addNewRow() {
            const tbody = document.getElementById('medicine-table-body');
            const newRow = document.querySelector('.medicine-row').cloneNode(true);
            const rowNum = tbody.children.length + 1;
            
            // Clear all inputs in the new row
            newRow.querySelector('td:first-child').textContent = rowNum;
            newRow.querySelectorAll('input').forEach(input => input.value = '');
            newRow.querySelector('.discount').value = '0';
            newRow.querySelector('.amount').textContent = '0.00';
            newRow.querySelector('.gst-rate').selectedIndex = 0;
            
            tbody.appendChild(newRow);
            
            // Add event listeners to new inputs
            newRow.querySelectorAll('.quantity, .rate, .discount').forEach(input => {
                input.addEventListener('input', calculateRow);
            });
            newRow.querySelector('.gst-rate').addEventListener('change', calculateRow);
            newRow.querySelector('.medicine-name').addEventListener('blur', function() {
                if(this.value && this.closest('tr') === document.querySelector('#medicine-table-body tr:last-child')) {
                    addNewRow();
                }
            });
            
            // Add remove button
            const removeBtn = document.createElement('button');
            removeBtn.className = 'btn btn-remove';
            removeBtn.innerHTML = '<i class="fas fa-times"></i>';
            removeBtn.onclick = function() { removeRow(this); };
            newRow.querySelector('.no-print').innerHTML = '';
            newRow.querySelector('.no-print').appendChild(removeBtn);
            
            // Focus on the medicine name field of the new row
            newRow.querySelector('.medicine-name').focus();
        }
        
        function addPurchaseRow() {
            const tbody = document.getElementById('purchase-table-body');
            const newRow = document.querySelector('.medicine-row').cloneNode(true);
            const rowNum = tbody.children.length + 1;
            
            // Clear all inputs in the new row
            newRow.querySelector('td:first-child').textContent = rowNum;
            newRow.querySelectorAll('input').forEach(input => input.value = '');
            newRow.querySelector('.amount').textContent = '0.00';
            newRow.querySelector('.gst-rate').selectedIndex = 0;
            
            tbody.appendChild(newRow);
            
            // Add event listeners to new inputs
            newRow.querySelectorAll('.quantity, .rate').forEach(input => {
                input.addEventListener('input', calculatePurchaseRow);
            });
            
            // Add remove button
            const removeBtn = document.createElement('button');
            removeBtn.className = 'btn btn-remove';
            removeBtn.innerHTML = '<i class="fas fa-times"></i>';
            removeBtn.onclick = function() { removePurchaseRow(this); };
            newRow.querySelector('.no-print').innerHTML = '';
            newRow.querySelector('.no-print').appendChild(removeBtn);
            
            // Focus on the medicine name field of the new row
            newRow.querySelector('.medicine-name').focus();
        }

        function calculatePurchaseRow(e) {
            const row = e.target.closest('tr');
            const quantity = parseFloat(row.querySelector('.quantity').value) || 0;
            const rate = parseFloat(row.querySelector('.rate').value) || 0;
            
            const amount = quantity * rate;
            row.querySelector('.amount').textContent = amount.toFixed(2);
        }

        function removeRow(button) {
            const row = button.closest('tr');
            if (document.querySelectorAll('.medicine-row').length > 1) {
                row.remove();
                // Update row numbers
                document.querySelectorAll('#medicine-table-body tr').forEach((tr, index) => {
                    tr.querySelector('td:first-child').textContent = index + 1;
                });
                calculateTotals();
            } else {
                alert("You must have at least one medicine row.");
            }
        }
        
        function removePurchaseRow(button) {
            const row = button.closest('tr');
            if (document.querySelectorAll('#purchase-table-body .medicine-row').length > 1) {
                row.remove();
                // Update row numbers
                document.querySelectorAll('#purchase-table-body tr').forEach((tr, index) => {
                    tr.querySelector('td:first-child').textContent = index + 1;
                });
            } else {
                alert("You must have at least one medicine row.");
            }
        }
        
        function generateReport() {
            const reportType = document.querySelector('input[name="report-type"]:checked').value;
            loadReportData(reportType);
        }
        
        function loadReportData(type) {
            const tbody = document.getElementById('report-body');
            const reportHead = document.getElementById('report-head');
            
            // Clear existing data
            tbody.innerHTML = '';
            
            let totalValue = 0;
            let headHtml, data;
            
            if (type === 'sales') {
                headHtml = `
                    <th>Date</th>
                    <th>Invoice No</th>
                    <th>Customer</th>
                    <th>Medicine</th>
                    <th>Batch</th>
                    <th>Qty</th>
                    <th>Rate</th>
                    <th>Amount</th>
                    <th>GST</th>
                `;
                
                data = [
                    { date: '15/07/2023', invoice: 'INV-23071501', name: 'Rajesh Kumar', medicine: 'Paracetamol 500mg', batch: 'BATCH001', qty: 10, rate: '₹5.00', amount: '₹50.00', gst: '5%', amountValue: 50 },
                    { date: '15/07/2023', invoice: 'INV-23071501', name: 'Rajesh Kumar', medicine: 'Amoxicillin 250mg', batch: 'BATCH045', qty: 5, rate: '₹15.00', amount: '₹75.00', gst: '12%', amountValue: 75 },
                    { date: '14/07/2023', invoice: 'INV-23071402', name: 'Priya Sharma', medicine: 'Vitamin C 500mg', batch: 'BATCH112', qty: 8, rate: '₹8.50', amount: '₹68.00', gst: '18%', amountValue: 68 },
                    { date: '14/07/2023', invoice: 'INV-23071403', name: 'Vikram Singh', medicine: 'Cetirizine 10mg', batch: 'BATCH078', qty: 15, rate: '₹3.50', amount: '₹52.50', gst: '12%', amountValue: 52.5 },
                    { date: '13/07/2023', invoice: 'INV-23071301', name: 'Anjali Mehta', medicine: 'Metformin 500mg', batch: 'BATCH093', qty: 12, rate: '₹7.25', amount: '₹87.00', gst: '5%', amountValue: 87 }
                ];
            } else if (type === 'purchases') {
                headHtml = `
                    <th>Date</th>
                    <th>Invoice No</th>
                    <th>Vendor</th>
                    <th>Medicine</th>
                    <th>Batch</th>
                    <th>Qty</th>
                    <th>Rate</th>
                    <th>Amount</th>
                    <th>GST</th>
                `;
                
                data = [
                    { date: '10/07/2023', invoice: 'PUR-23071001', name: 'Medi Distributors', medicine: 'Paracetamol 500mg', batch: 'BATCH201', qty: 100, rate: '₹3.50', amount: '₹350.00', gst: '5%', amountValue: 350 },
                    { date: '09/07/2023', invoice: 'PUR-23070902', name: 'Pharma Solutions', medicine: 'Amoxicillin 250mg', batch: 'BATCH045', qty: 50, rate: '₹12.00', amount: '₹600.00', gst: '12%', amountValue: 600 },
                    { date: '08/07/2023', invoice: 'PUR-23070801', name: 'Global Meds', medicine: 'Vitamin C 500mg', batch: 'BATCH112', qty: 80, rate: '₹6.50', amount: '₹520.00', gst: '18%', amountValue: 520 },
                    { date: '07/07/2023', invoice: 'PUR-23070703', name: 'Health Suppliers', medicine: 'Cetirizine 10mg', batch: 'BATCH078', qty: 120, rate: '₹2.50', amount: '₹300.00', gst: '12%', amountValue: 300 },
                    { date: '05/07/2023', invoice: 'PUR-23070501', name: 'Medico Enterprises', medicine: 'Metformin 500mg', batch: 'BATCH093', qty: 90, rate: '₹5.25', amount: '₹472.50', gst: '5%', amountValue: 472.5 }
                ];
            } else if (type === 'stock') {
                headHtml = `
                    <th>Medicine</th>
                    <th>Batch</th>
                    <th>Expiry</th>
                    <th>Qty</th>
                    <th>Rate</th>
                    <th>Amount</th>
                `;
                
                data = [
                    { medicine: 'Paracetamol 500mg', batch: 'BATCH201', expiry: '12/25', qty: 85, rate: '₹3.50', amount: '₹297.50', amountValue: 297.5 },
                    { medicine: 'Amoxicillin 250mg', batch: 'BATCH045', expiry: '09/24', qty: 45, rate: '₹12.00', amount: '₹540.00', amountValue: 540 },
                    { medicine: 'Vitamin C 500mg', batch: 'BATCH112', expiry: '03/25', qty: 72, rate: '₹6.50', amount: '₹468.00', amountValue: 468 },
                    { medicine: 'Cetirizine 10mg', batch: 'BATCH078', expiry: '11/24', qty: 105, rate: '₹2.50', amount: '₹262.50', amountValue: 262.5 },
                    { medicine: 'Metformin 500mg', batch: 'BATCH093', expiry: '08/25', qty: 78, rate: '₹5.25', amount: '₹409.50', amountValue: 409.5 }
                ];
            }
            
            // Set table headers
            reportHead.innerHTML = headHtml;
            
            // Populate table and calculate total
            data.forEach(item => {
                totalValue += item.amountValue;
                
                const row = document.createElement('tr');
                
                if (type === 'sales' || type === 'purchases') {
                    row.innerHTML = `
                        <td>${item.date}</td>
                        <td>${item.invoice}</td>
                        <td>${item.name}</td>
                        <td>${item.medicine}</td>
                        <td>${item.batch}</td>
                        <td>${item.qty}</td>
                        <td>${item.rate}</td>
                        <td>${item.amount}</td>
                        <td>${item.gst}</td>
                    `;
                } else if (type === 'stock') {
                    row.innerHTML = `
                        <td>${item.medicine}</td>
                        <td>${item.batch}</td>
                        <td>${item.expiry}</td>
                        <td>${item.qty}</td>
                        <td>${item.rate}</td>
                        <td>${item.amount}</td>
                    `;
                }
                
                tbody.appendChild(row);
            });
            
            // Display total value
            document.getElementById('report-total-value').textContent = `Total Value: ₹${totalValue.toFixed(2)}`;
        }
        
        function printReport() {
            alert(`Printing ${document.querySelector('input[name="report-type"]:checked').value} report...`);
        }
        
        function exportToCSV() {
            alert(`Exporting ${document.querySelector('input[name="report-type"]:checked').value} report to CSV...`);
        }

        // Data Management Functions
        function deleteByInvoice() {
            const type = document.getElementById('delete-transaction-type').value;
            const invoiceNumber = document.getElementById('delete-invoice-number').value.trim();
            
            if (!invoiceNumber) {
                alert('Please enter an invoice number');
                return;
            }
            
            if (confirm(`Are you sure you want to delete this ${type === 'sale' ? 'sale' : 'purchase'} invoice (${invoiceNumber})? This action cannot be undone.`)) {
                // In a real app, this would call your backend to delete the invoice
                alert(`${type === 'sale' ? 'Sale' : 'Purchase'} invoice ${invoiceNumber} has been deleted.`);
                document.getElementById('delete-invoice-number').value = '';
            }
        }

        function deleteByDateRange() {
            const type = document.getElementById('delete-date-type').value;
            const fromDate = document.getElementById('delete-from-date').value;
            const toDate = document.getElementById('delete-to-date').value;
            
            if (!fromDate || !toDate) {
                alert('Please select both start and end dates');
                return;
            }
            
            let typeText = '';
            if (type === 'sale') typeText = 'sales';
            else if (type === 'purchase') typeText = 'purchases';
            else typeText = 'sales and purchases';
            
            if (confirm(`Are you sure you want to delete all ${typeText} transactions between ${fromDate} and ${toDate}? This action cannot be undone.`)) {
                // In a real app, this would call your backend to delete the transactions
                alert(`All ${typeText} transactions between ${fromDate} and ${toDate} have been deleted.`);
            }
        }

        function confirmDeleteAll() {
            const password = document.getElementById('admin-password').value;
            
            if (!password) {
                alert('Please enter the admin password');
                return;
            }
            
            // In a real app, you would verify the password first
            if (confirm('WARNING: This will permanently delete ALL transaction data. Are you absolutely sure?')) {
                if (confirm('This is your last chance to cancel. All data will be lost. Proceed?')) {
                    // In a real app, this would call your backend to delete all data
                    alert('All transaction data has been deleted.');
                    document.getElementById('admin-password').value = '';
                }
            }
        }

        function createBackup() {
            // In a real app, this would generate and download a backup file
            alert('Backup file has been downloaded.');
        }

        function restoreBackup() {
            const fileInput = document.getElementById('backup-file');
            
            if (!fileInput.files.length) {
                alert('Please select a backup file to restore');
                return;
            }
            
            if (confirm('Restoring from backup will overwrite your current data. Continue?')) {
                // In a real app, this would upload and process the backup file
                alert('Backup has been successfully restored.');
                fileInput.value = '';
            }
        }
    </script>
</body>
</html>
